<%- include('../includes/navigation.ejs') %>

<link rel="stylesheet" href="/style/form.css">

<!-- JavaScript de Select2 -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />

<body class="body-index">
    <div class="container">
        <form action="/post/add-post" method="POST" enctype="multipart/form-data">
            <!-- Campo CSRF -->
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        
            <!-- Título -->
            <label for="title">Título*:</label>
            <input type="text" id="title" name="title" required><br>
        
            <!-- Descripción -->
            <label for="description">Descripción:</label>
            <textarea id="description" name="description"></textarea><br>
        
            <!-- Contenido -->
            <label for="content">Contenido:</label>
            <textarea id="content" name="content"></textarea><br>
        
            <!-- Tags -->
            <label for="tags">Etiquetas (separados por comas):</label>
            <input type="text" id="tags" name="tags" placeholder="Tag 1, Tag 2, Tag 3"><br>
        
            <!-- URL -->
            <label for="url">URL de la publicación:</label>
            <input type="text" id="url" name="url"><br>
        
        
            <!-- Archivo adjunto
                <label for="attachedFile">Archivo adjunto:</label>
                <input type="file" id="attachedFile" name="attachedFile"><br>
            -->

            <!-- Fecha -->
            <label for="date">Fecha de publicación:</label>
            <input type="date" id="date" name="date"><br>
        
        
            <!-- Autor (ID del autor) -->
            <label for="author">Autores de la publicación:</label>
            <span> Selecciona varias publicaciones pulsando Shift (Mayús) y haciendo click normal</span>
            <select id="author" name="author" multiple>
                <% for (let member of members) { %>
                    <option value="<%= member._id %>"><%= member.name %></option>
                <% } %>
            </select>

            <label for="status">Estado de la apublicación:</label>
            <select id="status" name="status" multiple>
                <option value="borrador">borrador</option>
                <option value="enviado">enviado</option>
                <option value="publicado">publicado</option>
            </select>
        
            <!-- Botón para enviar el formulario -->
            <button type="submit">Crear Post</button>
        </form>
    
    </div>
</body>

 <!--- FOOTER (PIE DE PÁGINA)-->
 <%- include('../includes/footer') %>
</html>



<script>
    $(document).ready(function() {
        $('#author').select2({
            placeholder: 'Selecciona autores',
            allowClear: true
        });
    });
</script>